<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Make coding suggestions based on a user's open-ended text input. — get_job_suggestions • occupationMeasurement</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Make coding suggestions based on a user's open-ended text input. — get_job_suggestions"><meta name="description" content="Given a text input, find up to num_suggestions possible occupation categories."><meta property="og:description" content="Given a text input, find up to num_suggestions possible occupation categories."><meta property="og:image" content="https://occupationmeasurement.github.io/occupationMeasurement/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">occupationMeasurement</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/occupationMeasurement.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/app.html">Using the Interactive App</a></li>
    <li><a class="dropdown-item" href="../articles/app-questionnaire.html">Custom Questionnaires / Pages</a></li>
    <li><a class="dropdown-item" href="../articles/app-database.html">Saving App Data in a Database</a></li>
    <li><a class="dropdown-item" href="../articles/app-deployment.html">Deploying to a Server / the Cloud</a></li>
    <li><a class="dropdown-item" href="../articles/api.html">Using the API</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/occupationMeasurement/occupationMeasurement/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Make coding suggestions based on a user's open-ended text input.</h1>
      <small class="dont-index">Source: <a href="https://github.com/occupationMeasurement/occupationMeasurement/blob/main/R/suggestions.R" class="external-link"><code>R/suggestions.R</code></a></small>
      <div class="d-none name"><code>get_job_suggestions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Given a <code>text</code> input, find up to <code>num_suggestions</code> possible occupation categories.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_job_suggestions</span><span class="op">(</span></span>
<span>  <span class="va">text</span>,</span>
<span>  suggestion_type <span class="op">=</span> <span class="st">"auxco-1.2.x"</span>,</span>
<span>  num_suggestions <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  suggestion_type_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  aggregate_score_threshold <span class="op">=</span> <span class="fl">0.02</span>,</span>
<span>  item_score_threshold <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  distinctions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  steps <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>simbased_wordwise <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>algorithm <span class="op">=</span> <span class="va">algo_similarity_based_reasoning</span>,</span>
<span>    parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sim_name <span class="op">=</span> <span class="st">"wordwise"</span><span class="op">)</span><span class="op">)</span>, simbased_substring <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>algorithm <span class="op">=</span></span>
<span>    <span class="va">algo_similarity_based_reasoning</span>, parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sim_name <span class="op">=</span> <span class="st">"substring"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  include_general_id <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-text">text<a class="anchor" aria-label="anchor" href="#arg-text"></a></dt>
<dd><p>The raw text input from the user.</p></dd>


<dt id="arg-suggestion-type">suggestion_type<a class="anchor" aria-label="anchor" href="#arg-suggestion-type"></a></dt>
<dd><p>Which type of suggestion to use / provide.
Possible options are "auxco-1.2.x" and "kldb-2010".</p></dd>


<dt id="arg-num-suggestions">num_suggestions<a class="anchor" aria-label="anchor" href="#arg-num-suggestions"></a></dt>
<dd><p>The maximum number of suggestions to show.
This is an upper bound and less suggestions may be returned.
Defaults to 5.</p></dd>


<dt id="arg-suggestion-type-options">suggestion_type_options<a class="anchor" aria-label="anchor" href="#arg-suggestion-type-options"></a></dt>
<dd><p>A list with options for generating
suggestions. Supported options:
- <code>datasets</code>: Pass specific datasets to be used whenn adding information
to predictions e.g. use a specific version of the kldb or auxco.
Supported datasets are: "auxco-1.2.x", "kldb-2010". By default the datasets
bundled with this package are used.</p></dd>


<dt id="arg-aggregate-score-threshold">aggregate_score_threshold<a class="anchor" aria-label="anchor" href="#arg-aggregate-score-threshold"></a></dt>
<dd><p>A single value or named list of thresholds
between 0 and 1. If it is a list, each entry should correspond to one of
the <code>steps</code>. If it is a single value, it will apply to all steps.
Results from that step will only be returned if the sum of
their scores is equal to or greater than the specified threshold. With a
aggregate_score_threshold of 0 results will always be returned
(if there are any).</p></dd>


<dt id="arg-item-score-threshold">item_score_threshold<a class="anchor" aria-label="anchor" href="#arg-item-score-threshold"></a></dt>
<dd><p>A threshold between 0 and 1 (usually
very small, default 0). Results from any step will only be returned if they
are greater than the specified threshold. Allows the removal of highly
implausible suggestions.</p></dd>


<dt id="arg-distinctions">distinctions<a class="anchor" aria-label="anchor" href="#arg-distinctions"></a></dt>
<dd><p>Whether or not to add additional distinctions to
similar occupational categories to the source code.
Defaults to TRUE.</p></dd>


<dt id="arg-steps">steps<a class="anchor" aria-label="anchor" href="#arg-steps"></a></dt>
<dd><p>A list with the algorithms to use and their parameters. Each
entry of the list should contain a nested list with two entries:
algorithm (the algorithm's function itself) and parameters (the parameters
to pass onto the algorithm). Each algorithm will also always have access
to a default set of three parameters:</p><ul><li><p>text_processed: The input text after preprocessing</p></li>
<li><p>suggestion_type: Which type of suggestion to output</p></li>
<li><p>num_suggestions: How many suggestions shall be returned
These parameters must not be specified manually and will be provided
automatically instead.
Defaults to:</p></li>
</ul><p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="co"># try similarity "one word at most 1 letter different" first</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="at">algorithm =</span> algo_similarity_based_reasoning,</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="at">parameters =</span> <span class="fu">list</span>(</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>      <span class="at">sim_name =</span> <span class="st">"wordwise"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>      <span class="at">min_aggregate_prob =</span> <span class="fl">0.535</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    )</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>  ),</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>  <span class="co"># since everything else failed, try "substring" similarity</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>    <span class="at">algorithm =</span> algo_similarity_based_reasoning,</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>    <span class="at">parameters =</span> <span class="fu">list</span>(</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>      <span class="at">sim_name =</span> <span class="st">"substring"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>      <span class="at">min_aggregate_prob =</span> <span class="fl">0.02</span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>    )</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>  )</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>)</span></code></pre><p></p></div></dd>


<dt id="arg-include-general-id">include_general_id<a class="anchor" aria-label="anchor" href="#arg-include-general-id"></a></dt>
<dd><p>Whether a general column, called "id" should always
be returned. This will automatically contain the appropriate id for
different suggestion_types i.e. for "auxco-1-2.x" it will contain the same
data as the column "auxco_id".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.table with suggestions or NULL if no suggestions were found.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The procedure implemented here is, roughly speaking, as follows:</p><ol><li><p>Predict categories from KldB 2010, including their scores. The first algorithm mentioned in <code>steps</code> is used (default: <code><a href="algo_similarity_based_reasoning.html">algo_similarity_based_reasoning()</a></code>).</p></li>
<li><p>Convert the predicted KldB 2010 categories to <code>suggestion_type</code> (default: <code>auxco-1.2.x</code>, an n:m mapping, scores are mapped accordingly.). See internal function <code><a href="convert_suggestions.html">convert_suggestions()</a></code> for details.</p></li>
<li><p>Remove predicted categories if their score is below <code>item_score_threshold</code> and only keep the <code>num_suggestions</code> top-ranked suggestions.</p></li>
<li><p>Start anew, trying the next algorithm in <code>steps</code>, if the the top-ranked suggestions have a low chance to be correct. (Technically, this happens if the summed score of the <code>num_suggestions</code> top-ranked suggestions is below <code>aggregate_score_threshold</code>.)</p></li>
<li><p>If <code>suggestion_type == "auxco-1.2.x"</code> and <code>distinctions == TRUE</code>, insert additional and (highly) similar categories or replace existing ones. See internal function <code>add_distinctions_auxco()</code>. Reorder and keep only the <code>num_suggestions</code> top-ranked suggestions. Auxco categories which were added during this step can be identified by their scores: It equals 0.05 for categories with high similarity and 0.005 for categories with medium similarity.</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">get_job_suggestions</span><span class="op">(</span><span class="st">"Koch"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">get_job_suggestions</span><span class="op">(</span><span class="st">"Schlosser"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jan Simson, Olga Kononykhina, Malte Schierholz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

